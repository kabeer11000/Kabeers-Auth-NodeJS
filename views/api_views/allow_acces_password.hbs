<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link href="/stylesheets/bootstrap_matrial_design.css" rel="stylesheet" id="bootstrap-css">
<link href="https://unpkg.com/material-components-web@latest/dist/material-components-web.min.css"
      rel="stylesheet"><!------ Include the above in your HEAD tag ---------->
<script src="//cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"
        integrity="sha512-3j3VU6WC5rPQB4Ld1jnLV7Kd5xr+cq9avvhwqzbH/taCRNURoeEpoPBK9pDyeukwSxwRPJ8fDgvYXd6SkaZ2TA=="
        crossorigin="anonymous"></script>
<link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
<!------ Include the above in your HEAD tag ---------->
<style>
    input:-webkit-autofill,
    input:-webkit-autofill:hover,
    input:-webkit-autofill:focus,
    input:-webkit-autofill:active {
        -webkit-box-shadow: 0 0 0 30px white inset !important;
    }

    @media screen and (max-width: 600px) {
        .card {
            box-shadow: none !important;
            border: none !important;
            background-color: #fafafa
        }

        body {
            background-color: #fafafa
        }
    }
</style>
<script>
    const code = '{{code}}';
    if (!code) {
        window.location.href = "./";
    }

    function login_() {
        var settings = {
            "url": "/auth/allow",
            "method": "POST",
            "timeout": 0,
            "headers": {
                "Content-Type": "application/x-www-form-urlencoded"
            },
            "data": {
                "username": document.querySelector('.username').value,
                "password": document.querySelector('.password').value,
                "auth_code": "{{code}}"
            }
        };

        $.ajax(settings).done(function (res) {
            if (res) {
                if (localStorage.getItem("accounts") === null) {
                    const data = [{
                        "username": res.user_data.username,
                        "email": res.user_data.email,
                        "password": btoa(res.user_data.password),
                        "account_image": res.user_data.account_image
                    }];
                    localStorage.setItem("accounts", JSON.stringify(data));
                } else {
                    var data = JSON.parse(localStorage.getItem("accounts"));
                    var currentData = {
                        "username": res.user_data.username,
                        "email": res.user_data.email,
                        "password": btoa(res.user_data.password),
                        "account_image": res.user_data.account_image
                    };
                    if (JSON.stringify(data).includes(JSON.stringify(currentData))) {
                    } else {
                        data.push({
                            "username": res.user_data.username,
                            "email": res.user_data.email,
                            "password": btoa(res.user_data.password),
                            "account_image": res.user_data.account_image
                        });
                        localStorage.setItem("accounts", JSON.stringify(data));
                    }
                }
                window.location.href = res.callback;
            }

        });
    }

</script>
{{#if verified}}
    <div/>
{{else}}
    <unverified_container
            style="position: fixed; min-height: 100vh; min-width: 100vw;z-index: 999;background-color: white;top:0">
        <style>.unverified_container {
            padding-top: 1.5rem;
            padding-bottom: 1.5rem;
            background-color: #fff
        }

        .unverified_container.header h3 {
            margin-top: 0;
            margin-bottom: 0;
            line-height: 3rem
        }

        @media (min-width: 48em) {
            .unverified_container.container {
                max-width: 46rem
            }
        }

        .unverified_container.container-narrow > hr {
            margin: 2rem 0
        }

        .unverified_container.marketing p + h4 {
            margin-top: 1.5rem
        }</style>
        <div class="container mt-5 mb-5"><img
                src="https://www.materialui.co/materialIcons/alert/warning_amber_384x384.png" style="height:5rem"></div>
        <hr/>
        <div class="container" style="min-height:150px">
            <div class="row">
                <div class="col-md-12"><p>
                    <p class="text-dark"><span class="h3">This app isn't Verified!</span><br></p> <span
                            class="text-muted"><br>This app hasn't been verified by Kabeers Network yet. Only proceed if you know and trust the developer.</span>
                    <hr style="opacity:0;border-color:#fff" class="border-none">
                    </p>
                    <div class="row">
                        <div class="col-6 col-sm-6">
                            <button class="btn-raised btn text-yellow rounded" type="button"
                                    onclick="document.querySelector('unverified_container').remove()">Proceed
                            </button>
                        </div>
                        <div class="col-6 col-sm-6">
                            <button class="btn float-right btn-primary rounded" onclick="window.history.back()"
                                    type="button"> Back to Safety
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </unverified_container>
{{/if}}
<div class="container">

    <div class="row d-flex justify-content-center mt-5">
        <aside class="col-md-4">

            <div class="my-5 text-center h5"><img src="{{profile_img}}" class="rounded-circle mr-3"
                                                  style="width:2rem;height:auto"/><img
                    src="https://cdn4.iconfinder.com/data/icons/user-actions-10/24/Material_icons-08-79-512.png"
                    class="mx-3 mr-4" style="width:2rem;height:auto"/><img
                    src="data:image/png;base64,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"
                    class="rounded-circle mr-3" style="width:2rem;height:auto"/></div>

            <div class="card">
                <article class="card-body">
                    <h4 class="card-title text-capitalize text-center mb-4 mt-1">Continue to {{app_name}}</h4>
                    <hr>
                    <iframe style="display:none" name="form_iframe"
                            src="https://cdn.jsdelivr.net/gh/kabeer11000/notes/ping.txt" id="form_iframe"></iframe>
                    <ul class="my-5 mdc-list mdc-list--two-line">
                        <div class="my-2 mb-5">
                            {{desc}} <br/>{{app_name}} will receive:
                        </div>
                        {{{grant_types_ui}}}
                    </ul>
                    <div method="post" action="/user/authorize">

                        <input name="authCode" value="{{code}}" type="hidden">
                        <input name="state" value="{{state}}" type="hidden">
                        <input name="callback" value="{{callback}}" type="hidden">
                        <div class="form-group ">
                            <div class="input-group">
                                <div class="input-group-prepend">
                                    <span class="input-group-text"> <i class="material-icons">account_circle</i> </span>
                                </div>
                                <input name="username" autofocus class="ml-2 form-control username"
                                       placeholder="Username" type="username"/>
                            </div> <!-- input-group.// -->
                        </div> <!-- form-group// -->
                        <div class="form-group ">
                            <div class="input-group">
                                <div class="input-group-prepend">
                                    <span class="input-group-text"> <i class="material-icons">lock</i> </span>
                                </div>
                                <input class="form-control password ml-2" name="password" placeholder="******"
                                       type="password"/>
                            </div> <!-- input-group.// -->
                        </div> <!-- form-group// -->
                        <div class="form-group">
                            <button
                                    onclick="login_()"
                                    class="btn btn-raised btn-primary btn-block"> {{btn}}</button>
                            <a href="./chooser" class="w-100 btn btn-block">Choose another
                                Account</a>
                        </div>
                    </div>
                </article>
            </div> <!-- card.// -->

        </aside> <!-- col.// -->
    </div> <!-- row.// -->

</div>
<!--container end.//-->

